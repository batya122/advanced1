<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bavaria</title>
    <link rel="icon" type="image/x-icon" href="favicon.png">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-beta2/css/bootstrap.min.css">

    <style>
        .navbar-nav .nav-link {
            color: black;
        }
    </style>
</head>

<body>
    <header class="bg-dark text-white text-center py-5">
        <h1>Bavaria</h1>
    </header>
    <nav class="navbar navbar-expand-lg navbar-dark bg-secondary">
        <div class="container d-flex justify-content-between">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link text-light" href="index.html">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-light" href="aboutd.html">About Us</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-light" href="contact.html">Contact</a>
                </li>
            </ul>
            <div id="userInfo"></div>
        </div>
    </nav>

    <!-- <script>
        document.addEventListener("DOMContentLoaded", function () {
            const loggedInUser = localStorage.getItem('loggedInUser');
            const userInfoDiv = document.getElementById('userInfo');

            if (loggedInUser) {
                const logoutButton = document.createElement('button');
                logoutButton.className = 'btn btn-dark';
                logoutButton.textContent = 'Logout';
                logoutButton.addEventListener('click', function () {
                    localStorage.removeItem('loggedInUser'); // Очистка информации о пользователе
                    window.location.href = 'login.html'; // Перенаправление на страницу входа
                });
                userInfoDiv.innerHTML = `<span class="text-light">Welcome, ${loggedInUser}! </span>`;
                userInfoDiv.appendChild(logoutButton);
            } else {
                const loginButton = document.createElement('button');
                loginButton.className = 'btn btn-dark';
                loginButton.innerHTML = '<a class="text-light" href="login.html">Log In</a>';
                userInfoDiv.appendChild(loginButton);
            }
        });
    </script> -->
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <nav class="navbar navbar-expand-lg filter-navbar">
        <div class="container">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="#" id="showAll">Show All</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" id="showPassengerCar">Passenger Car</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" id="showCrossover">Crossover</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container mt-4" id="carsContainer">

        <div class="row">
            <div class="col-md-4 passenger-car">
                <div class="card h-100">
                    <img src="https://io.ilsa.ru/gallery/catalog/5/14/38cace69ed6bb4a258403ec50068f145.jpg"
                        class="card-img-top img-popup" alt="Product 1">
                    <div class="card-body">
                        <h2 class="card-title">Passenger car</h2>
                        <h2>Hongqi H9</h2>
                        <hr>
                        <p class="card-text">The Hongqi H9 is a luxury sedan produced by China's FAW Group. It
                            combines traditional Chinese design elements with modern luxury features. In addition to its
                            electric variant, the Hongqi H9<span id="dots">...</span>
                            <span id="more" style="display: none;"> is available with a hybrid powertrain, offering
                                both
                                electric
                                and gasoline-powered driving options. The electric version typically provides an
                                electric
                                driving range of around 80 to 100 kilometers (50 to 62 miles) on a full charge. It
                                features
                                a
                                spacious and well-appointed interior with high-quality materials, making it a symbol of
                                luxury
                                and sophistication in the Chinese automotive market.</span>
                            <button id="btn2" onclick="toggleText()">More</button>
                            <hr>
                        <p style="font-size: 20px;" class=""><b><s> 14990.00 $</s> <i style="color: red;"> 12990.00
                                    $</i></b> </p>
                        <button class="btn btn-dark add-to-cart" data-product='{
                                    "name": "Hongqi H9",
                                    "price": 14990
                                }'><i class="fas fa-shopping-cart fa-3x"></i></button>
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-md-4 crossover">
                <div class="card h-100">
                    <img src="https://i.cenyavto.com/2021/06/wj9m-1068x801.jpg" class="card-img-top img-popup"
                        alt="Product 4">
                    <div class="card-body">
                        <h2 class="card-title">Crossover</h2>
                        <h2>Wuling Hong Guang Mini EV</h2>
                        <hr>
                        <p class="card-text">This compact electric car can be charged using a standard household<span
                                id="dots">...</span><span id="more1" style="display: none;">
                                outlet and provides an electric driving range of approximately 120 to 170 kilometers (75
                                to
                                105 miles) on a full charge. </span><button id="btn"
                                onclick="toggleText()">More</button>
                            <hr>
                        </p>
                        <p style="font-size: 20px;" class=""><b><s> 17990.00 $</s> <i style="color: red;"> 15990.00
                                    $</i></b> </p>
                        <button class="btn btn-dark add-to-cart" data-product='{
                        "name": "Wuling Hong Guang Mini EV",
                        "price": 17990
                    }'><i class="fas fa-shopping-cart fa-3x"></i></button>
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-md-4 crossover">
                <div class="card h-100">
                    <img src="https://sc04.alicdn.com/kf/Ha01c9b1a0f284dc3a623631ccf60d8f0o/223000267/Ha01c9b1a0f284dc3a623631ccf60d8f0o.jpg"
                        class="card-img-top img-popup" alt="Product 4">
                    <div class="card-body">
                        <h2 class="card-title">Crossover</h2>
                        <h2>BYD Han EV</h2>
                        <hr>
                        <p class="card-text">The BYD Han EV is a midsize electric sedan produced by BYD, a leading
                            Chinese automaker. It features a sleek and modern design and is known for its advanced
                            technology and performance capabilities. The Han EV can be charged using various methods,
                            including fast charging, and offers an impressive electric driving range of about 500
                            kilometers
                            (310 miles) on a full charge, making it suitable for both urban and long-distance driving.
                            Its
                            interior is spacious and well-equipped with high-tech features, including BYD's Blade
                            Battery
                            technology.
                            <hr>
                        </p>
                        <p style="font-size: 20px;" class=""><b><s> 18990.00 $</s> <i style="color: red;"> 16990.00
                                    $</i></b> </p>

                        <button class="btn btn-dark add-to-cart" data-product='{
                        "name": "BYD Han EV",
                        "price": 18990
                    }'><i class="fas fa-shopping-cart fa-3x"></i></button>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        
        <div class="row">
            <div class="col-md-4 passenger-car">
                <div class="card h-100">
                    <img src="https://avatars.mds.yandex.net/i?id=b69657f3b6d17bb028b5b3d7d5ce6f0d6c7c918f-5669034-images-thumbs&n=13"
                        class="card-img-top img-popup" alt="Product 7">
                    <div class="card-body">
                        <h2 class="card-title">Passenger car</h2>
                        <h2>Li Xiang One</h2>
                        <hr>
                        <p class="card-text">The Li Xiang One is equipped with a gas turbine range extender, which
                            significantly extends the electric driving range to approximately 800 kilometers (497 miles)
                            on a full charge and a full tank of fuel.
                            <hr>
                        </p>
                        <p style="font-size: 20px;" class=""><b><s> 12990.00 $</s> <i style="color: red;"> 10990.00
                                    $</i></b> </p>
                        <button class="btn btn-dark add-to-cart" data-product='{
                            "name": "Li Xiang One",
                            "price": 12990
                        }'><i class="fas fa-shopping-cart fa-3x"></i></button>
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-md-4 crossover">
                <div class="card h-100">
                    <img src="https://avatars.mds.yandex.net/i?id=be0993a9738642c4b0d07643116c15d05aa5d089-7014775-images-thumbs&n=13"
                        class="card-img-top img-popup" alt="Product 10">
                    <div class="card-body">
                        <h2 class="card-title">Сrossover</h2>
                        <h2>Changan CS75 Plus</h2>
                        <hr>
                        <p class="card-text"> This midsize SUV supports fast charging and offers an electric driving
                            range of approximately 330 to 400 kilometers (205 to 248 miles) on a full charge.
                            <hr>
                        </p>
                        <p style="font-size: 20px;" class=""><b><s> 15990.00 $</s> <i style="color: red;"> 13990.00
                                    $</i></b> </p>
                        <button class="btn btn-dark add-to-cart" data-product='{
                                    "name": "Changan CS75 Plus",
                                    "price": 12990
                                }'><i class="fas fa-shopping-cart fa-3x"></i></button>
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-md-4 crossover">
                <div class="card h-100">
                    <img src="https://avatars.mds.yandex.net/get-autoru-vos/2202972/d635651f02a1d0be38c003731755e96c/1200x900"
                        class="card-img-top img-popup" alt="Product 11">
                    <div class="card-body">
                        <h2 class="card-title">Crossover</h2>
                        <h2> Geely Emgrands</h2>
                        <hr>
                        <p class="card-text"> The Geely Emgrand is a compact sedan renowned for its sleek design and
                            advanced features. With its stylish exterior and comfortable interior, this car offers a
                            refined driving experience..
                            <hr>
                        </p>
                        <p style="font-size: 20px;" class=""><b><s> 19990.00 $</s> <i style="color: red;"> 17990.00
                                    $</i></b> </p>
                        <button class="btn btn-dark add-to-cart" data-product='{
                            "name": "Geely Emgrands",
                            "price": 19990
                        }'><i class="fas fa-shopping-cart fa-3x"></i></button>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
                                        <!----------------------SCRIPT-------------------------------->

   <script>
    function showAllCars() {
    $(".passenger-car, .crossover").show();
    rearrangeCars();
    $(".btn").show(); 
}

function showPassengerCars() {
    $(".crossover").hide();
    $(".passenger-car").show();
    rearrangeCars();
    $(".btn").show();
}

function showCrossovers() {
    $(".passenger-car").hide();
    $(".crossover").show();
    rearrangeCars();
    $(".btn").show(); 
}

function rearrangeCars() {
    var container = $("#carsContainer");
    container.each(function () {
        var children = $(this).find('.row > .col-md-4:visible').get();
        var totalRows = Math.ceil(children.length / 3);
        $(this).children('.row').empty();
        for (var i = 0; i < totalRows; i++) {
            var row = $("<div class='row'></div>");
            for (var j = 0; j < 3 && (i * 3 + j) < children.length; j++) {
                row.append(children[i * 3 + j]);
            }
            $(this).append(row);
        }
    });
}

$(document).ready(function () {
    $("#showAll").click(function () {
        window.location.href = "index.html"; 
    });

    $("#showPassengerCar").click(function () {
        $(".crossover").hide();
        $(".passenger-car").show();
        rearrangeCars();
        $("#showCrossover").hide(); 
    });

    $("#showCrossover").click(function () {
        $(".passenger-car").hide();
        $(".crossover").show();
        rearrangeCars();
        $("#showPassengerCar").hide();
    });
});
</script>
        

        <div class="modal fade" id="imageModal" tabindex="-1" role="dialog" aria-labelledby="imageModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    </div>
                    <div class="modal-body">
                        <img id="modalImage" src="" class="img-fluid">
                    </div>
                </div>
            </div>
        </div>

                            <!----------------------SCRIPT-------------------------------->

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>


        <script>
            $(document).on('click', '.img-popup', function () {
                var imgSrc = $(this).attr('src');
                $('#modalImage').attr('src', imgSrc);
                $('#imageModal').modal('show');
            });
        </script>


        <div id="shopping-cart" class="container mt-4">
            <h2>Shopping Cart</h2>
            <ul id="cart-items" class="list-group"></ul>
            <p id="total" class="mt-3" style="font-size: 20px; font-weight: bold;">
                <span style="color: red;">Regular Price: $<span id="regularPrice">0</span></span><br>
                <span style="color: blue;">Discount: $<span id="discountAmount">0</span></span><br>
                <span style="color: green;">With Discount: $<span id="discountedPrice">0</span></span>
            </p>
            <button id="checkout" class="btn btn-primary">Buy Now</button>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
            integrity="sha384-pzjw8f+ua7Kw1TIq0v7ImdM1Pai25Fc8L+OdnvY+kXZI6tnLhqo/g2eLO7UImyjk"
            crossorigin="anonymous"></script>

                            <!----------------------SCRIPT-------------------------------->
        <script>
            const shoppingCart = [];

            function addToCart(product) {
                shoppingCart.push({ ...product, quantity: 1 });
                displayCart();
            }

            function removeFromCart(index) {
                shoppingCart.splice(index, 1);
                displayCart();
            }

            function displayCart() {
                const cartItems = document.getElementById('cart-items');
                cartItems.innerHTML = '';

                let totalRegularPrice = 0;
                let totalDiscountedPrice = 0;

                shoppingCart.forEach((product, index) => {
                    const li = document.createElement('li');
                    li.classList.add('list-group-item', 'd-flex', 'justify-content-between', 'align-items-center');

                    const span = document.createElement('span');
                    span.innerHTML = `<b><s>${product.price.toFixed(2)} $</s> <i style="color: red;">${(product.price - 2000).toFixed(2)} $</i></b>`;
                    li.appendChild(span);

                    const actionDiv = document.createElement('div');
                    actionDiv.classList.add('d-flex', 'align-items-center');

                    const decreaseBtn = document.createElement('button');
                    decreaseBtn.textContent = '-';
                    decreaseBtn.classList.add('btn', 'btn-secondary', 'btn-sm', 'mr-2');
                    decreaseBtn.addEventListener('click', () => {
                        if (product.quantity > 1) {
                            product.quantity--;
                            displayCart();
                        }
                    });
                    actionDiv.appendChild(decreaseBtn);

                    const quantitySpan = document.createElement('span');
                    quantitySpan.textContent = `${product.quantity}`;
                    quantitySpan.classList.add('mr-2');
                    actionDiv.appendChild(quantitySpan);

                    const increaseBtn = document.createElement('button');
                    increaseBtn.textContent = '+';
                    increaseBtn.classList.add('btn', 'btn-secondary', 'btn-sm');
                    increaseBtn.addEventListener('click', () => {
                        product.quantity++;
                        displayCart();
                    });
                    actionDiv.appendChild(increaseBtn);

                    const removeButton = document.createElement('button');
                    removeButton.textContent = 'Remove';
                    removeButton.classList.add('btn', 'btn-danger', 'ml-auto');
                    removeButton.addEventListener('click', () => {
                        removeFromCart(index);
                    });
                    actionDiv.appendChild(removeButton);

                    li.appendChild(actionDiv);

                    cartItems.appendChild(li);

                    totalRegularPrice += product.price * product.quantity;
                    totalDiscountedPrice += (product.price - 2000) * product.quantity;
                });

                const regularPriceSpan = document.getElementById('regularPrice');
                regularPriceSpan.textContent = totalRegularPrice.toFixed(2);

                const discountedPriceSpan = document.getElementById('discountedPrice');
                discountedPriceSpan.textContent = totalDiscountedPrice.toFixed(2);

                const discountAmountSpan = document.getElementById('discountAmount');
                discountAmountSpan.textContent = (totalRegularPrice - totalDiscountedPrice).toFixed(2);
            }

            const addToCartButtons = document.querySelectorAll('.add-to-cart');
            addToCartButtons.forEach(button => {
                button.addEventListener('click', (event) => {
                    const product = JSON.parse(button.getAttribute('data-product'));
                    addToCart(product);
                });
            });


            document.getElementById('checkout').addEventListener('click', () => {
                window.location.href = 'https://kaspi.kz';
            });
        </script>

        <div class="container mt-5">
            <div class="row">
                <div class="col">
                    <h1 class="display-4 text-center">Super sale for cars valid until, Hurry up!</h1>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <p class="lead text-center" id="demo">EXPIRED</p>
                </div>
            </div>
        </div>

</body>
<footer>
    <p class="text-right">&copy; Bavaria 2023</p>
</footer>

</html>